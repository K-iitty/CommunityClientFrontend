<!--pages/property/house/house-info/house-info.wxml-->
<view class="page">
  <!-- åŠ è½½çŠ¶æ€ -->
  <view wx:if="{{loading}}" class="loading">
    <view class="loading-spinner"></view>
    <view class="loading-text">åŠ è½½ä¸­...</view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view wx:if="{{empty && !loading}}" class="empty-state">
    <view class="empty-icon">ğŸ </view>
    <view class="empty-text">æˆ¿å±‹ä¸å­˜åœ¨</view>
    <button class="back-btn" bindtap="goBack">è¿”å›åˆ—è¡¨</button>
  </view>

  <!-- æˆ¿å±‹è¯¦æƒ…å†…å®¹ -->
  <view wx:if="{{house && !loading}}" class="content">
    <!-- æˆ·å‹å›¾ -->
    <view class="floor-plan-section" wx:if="{{house.floorPlanImage}}">
      <image 
        class="floor-plan-image" 
        src="{{house.floorPlanImage}}" 
        mode="aspectFill" 
        bindtap="previewFloorPlan"
      />
    </view>

    <!-- åŸºæœ¬ä¿¡æ¯å¡ç‰‡ -->
    <view class="card">
      <view class="card-title">åŸºæœ¬ä¿¡æ¯</view>
      <view class="card-content">
        <!-- æˆ¿å· -->
        <view class="info-item">
          <view class="label">æˆ¿å·</view>
          <view class="value">{{house.roomNo}}</view>
        </view>
        
        <!-- å®Œæ•´æˆ¿å· -->
        <view class="info-item">
          <view class="label">å®Œæ•´æˆ¿å·</view>
          <view class="value">{{house.fullRoomNo}}</view>
        </view>
        
        <!-- æˆ¿å±‹ä»£ç  -->
        <view class="info-item">
          <view class="label">æˆ¿å±‹ä»£ç </view>
          <view class="value">{{house.houseCode}}</view>
        </view>
        
        <!-- æ¥¼å±‚ -->
        <view class="info-item">
          <view class="label">æ¥¼å±‚</view>
          <view class="value">ç¬¬{{house.floorLevel}}å±‚</view>
        </view>
      </view>
    </view>

    <!-- é¢ç§¯ä¿¡æ¯å¡ç‰‡ -->
    <view class="card">
      <view class="card-title">é¢ç§¯ä¿¡æ¯</view>
      <view class="card-content">
        <!-- å»ºç­‘é¢ç§¯ -->
        <view class="info-item">
          <view class="label">å»ºç­‘é¢ç§¯</view>
          <view class="value">{{house.buildingArea}} ã¡</view>
        </view>
        
        <!-- å¯ç”¨é¢ç§¯ -->
        <view class="info-item">
          <view class="label">å¯ç”¨é¢ç§¯</view>
          <view class="value">{{house.usableArea}} ã¡</view>
        </view>
        
        <!-- å…±äº«é¢ç§¯ -->
        <view class="info-item">
          <view class="label">å…±äº«é¢ç§¯</view>
          <view class="value">{{house.sharedArea}} ã¡</view>
        </view>
      </view>
    </view>

    <!-- æˆ¿å±‹å±æ€§å¡ç‰‡ -->
    <view class="card">
      <view class="card-title">æˆ¿å±‹å±æ€§</view>
      <view class="card-content">
        <!-- æˆ¿å±‹ç±»å‹ -->
        <view class="info-item">
          <view class="label">æˆ¿å±‹ç±»å‹</view>
          <view class="value">{{house.houseType || '-'}}</view>
        </view>
        
        <!-- æˆ¿å±‹å¸ƒå±€ -->
        <view class="info-item">
          <view class="label">æˆ¿å±‹å¸ƒå±€</view>
          <view class="value">{{house.houseLayout || '-'}}</view>
        </view>
        
        <!-- æˆ¿å±‹æœå‘ -->
        <view class="info-item">
          <view class="label">æˆ¿å±‹æœå‘</view>
          <view class="value">{{house.houseOrientation || '-'}}</view>
        </view>
        
        <!-- è£…ä¿®çŠ¶æ€ -->
        <view class="info-item">
          <view class="label">è£…ä¿®çŠ¶æ€</view>
          <view class="value">{{house.decorationStatus || '-'}}</view>
        </view>
      </view>
    </view>

    <!-- æˆ¿å±‹çŠ¶æ€å¡ç‰‡ -->
    <view class="card">
      <view class="card-title">æˆ¿å±‹çŠ¶æ€</view>
      <view class="card-content">
        <!-- æˆ¿å±‹çŠ¶æ€ -->
        <view class="info-item">
          <view class="label">çŠ¶æ€</view>
          <view class="value status {{house.houseStatus === 'ç©ºç½®' ? 'vacant' : house.houseStatus === 'å·²å”®' ? 'sold' : house.houseStatus === 'å·²ç§Ÿ' ? 'rented' : house.houseStatus === 'ç»´ä¿®' ? 'maintenance' : ''}}">{{house.houseStatus || '-'}}</view>
        </view>
        
        <!-- æ˜¯å¦æœ‰é˜³å° -->
        <view class="info-item">
          <view class="label">é˜³å°</view>
          <view class="value">{{house.hasBalcony === 1 ? 'æœ‰' : 'æ— '}}</view>
        </view>
        
        <!-- æ˜¯å¦æœ‰èŠ±å›­ -->
        <view class="info-item">
          <view class="label">èŠ±å›­</view>
          <view class="value">{{house.hasGarden === 1 ? 'æœ‰' : 'æ— '}}</view>
        </view>
      </view>
    </view>

    <!-- åœè½¦ä¿¡æ¯å¡ç‰‡ -->
    <view class="card" wx:if="{{house.parkingSpaceNo}}">
      <view class="card-title">åœè½¦ä¿¡æ¯</view>
      <view class="card-content">
        <!-- åœè½¦ä½å· -->
        <view class="info-item">
          <view class="label">åœè½¦ä½å·</view>
          <view class="value">{{house.parkingSpaceNo}}</view>
        </view>
        
        <!-- åœè½¦ç±»å‹ -->
        <view class="info-item" wx:if="{{house.parkingType}}">
          <view class="label">åœè½¦ç±»å‹</view>
          <view class="value">{{house.parkingType}}</view>
        </view>
      </view>
    </view>

    <!-- å¤‡æ³¨ä¿¡æ¯å¡ç‰‡ -->
    <view class="card" wx:if="{{house.remark}}">
      <view class="card-title">å¤‡æ³¨</view>
      <view class="card-content">
        <view class="remark-text">{{house.remark}}</view>
      </view>
    </view>

    <!-- è®°å½•æ—¶é—´å¡ç‰‡ -->
    <view class="card">
      <view class="card-title">è®°å½•æ—¶é—´</view>
      <view class="card-content">
        <!-- åˆ›å»ºæ—¶é—´ -->
        <view class="info-item" wx:if="{{house.createdAt}}">
          <view class="label">åˆ›å»ºæ—¶é—´</view>
          <view class="value">{{house.createdAt}}</view>
        </view>
        
        <!-- æ›´æ–°æ—¶é—´ -->
        <view class="info-item" wx:if="{{house.updatedAt}}">
          <view class="label">æ›´æ–°æ—¶é—´</view>
          <view class="value">{{house.updatedAt}}</view>
        </view>
      </view>
    </view>

    <!-- è¿”å›æŒ‰é’® -->
    <button class="back-btn" bindtap="goBack">è¿”å›åˆ—è¡¨</button>
  </view>
</view>