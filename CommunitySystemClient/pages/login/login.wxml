<!--pages/login/login.wxml-->
<view class="login-container">
  <!-- 顶部装饰 -->
  <view class="login-header">
    <view class="title">智慧社区</view>
    <!-- <view class="subtitle">Community System</view> -->
  </view>

  <!-- 角色切换 -->
  <view class="role-tabs">
    <view 
      class="role-tab {{roleType === 'owner' ? 'active' : ''}}" 
      bindtap="switchRole" 
      data-role="owner"
    >
      <text class="tab-text">业主</text>
    </view>
    <view 
      class="role-tab {{roleType === 'staff' ? 'active' : ''}}" 
      bindtap="switchRole" 
      data-role="staff"
    >
      <text class="tab-text">物业</text>
    </view>
  </view>

  <!-- 登录表单 -->
  <view class="login-form">
    <view class="input-group">
      <view class="input-prefix">U</view>
      <input 
        class="input-field" 
        type="text" 
        placeholder="用户名"
        value="{{username}}"
        bindinput="onUsernameInput"
      />
    </view>

    <view class="input-group">
      <view class="input-prefix">P</view>
      <input 
        class="input-field" 
        password="{{!showPassword}}" 
        placeholder="密码"
        value="{{password}}"
        bindinput="onPasswordInput"
      />
      <view class="input-action" bindtap="togglePassword">
        <text class="eye-icon">{{showPassword ? '>' : '<'}}</text>
      </view>
    </view>

    <button class="btn btn-primary btn-large" bindtap="handleLogin">
      {{roleType === 'owner' ? '业主登录' : '物业登录'}}
    </button>

    <view class="login-actions">
      <view wx:if="{{roleType === 'owner'}}" class="action-link" bindtap="handleRegister">
        立即注册
      </view>
      <!-- <view class="action-link" bindtap="handleForgotPassword">
        忘记密码
      </view> -->
    </view>
  </view>

  <!-- 底部提示 -->
  <view class="login-footer">
    <view class="footer-text">登录即表示同意</view>
    <view class="footer-links">
      <text class="link">用户协议</text>
      <text class="separator">和</text>
      <text class="link">隐私政策</text>
    </view>
  </view>
</view>

